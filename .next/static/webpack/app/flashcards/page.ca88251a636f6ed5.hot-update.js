"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/flashcards/page",{

/***/ "(app-pages-browser)/./hooks/useUserState.ts":
/*!*******************************!*\
  !*** ./hooks/useUserState.ts ***!
  \*******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useUserState: function() { return /* binding */ useUserState; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/react */ \"(app-pages-browser)/./node_modules/next-auth/react.js\");\n/* harmony import */ var _data_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/data/constants */ \"(app-pages-browser)/./data/constants.ts\");\n/* __next_internal_client_entry_do_not_use__ useUserState auto */ \n\n\nconst STORAGE_KEY = \"lyricfill_user\";\nconst DEFAULT_USER = {\n    name: \"Learner\",\n    level: \"beginner\",\n    xp: 0,\n    streak: 0,\n    lastPlayedAt: 0,\n    songsCompleted: [],\n    learnedWords: [],\n    achievements: [],\n    weeklyActivity: [\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0\n    ],\n    favorites: [],\n    history: [],\n    onboardingComplete: false\n};\nfunction useUserState() {\n    const { data: session, status } = (0,next_auth_react__WEBPACK_IMPORTED_MODULE_1__.useSession)();\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(DEFAULT_USER);\n    const [isLoaded, setIsLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const loadUser = async ()=>{\n            var _session_user;\n            if (status === \"loading\") return;\n            if (status === \"unauthenticated\") {\n                setUser(DEFAULT_USER);\n                setIsLoaded(true);\n                return;\n            }\n            // Priority 1: DB data if logged in\n            if (session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.id) {\n                const storageKey = \"lyricfill_user_\".concat(session.user.id);\n                try {\n                    const res = await fetch(\"/api/user/me\");\n                    let dbXp = 0;\n                    let dbStreak = 0;\n                    let dbName = session.user.name || \"Player\";\n                    if (res.ok) {\n                        const dbUser = await res.json();\n                        dbXp = dbUser.profile.xp;\n                        dbStreak = dbUser.profile.streak;\n                        dbName = dbUser.name || session.user.name || \"Player\";\n                    }\n                    // Priority 2: Local storage scoped to User ID\n                    let localData = {};\n                    const stored = localStorage.getItem(storageKey);\n                    if (stored) {\n                        const parsed = JSON.parse(stored);\n                        const now = Date.now();\n                        const lastPlayed = parsed.lastPlayedAt || 0;\n                        const daysSince = Math.floor((now - lastPlayed) / 86400000);\n                        if (daysSince > 1) {\n                            parsed.streak = 0;\n                        }\n                        localData = parsed;\n                    }\n                    setUser({\n                        ...DEFAULT_USER,\n                        ...localData,\n                        name: dbName,\n                        xp: dbXp,\n                        streak: dbStreak,\n                        onboardingComplete: true\n                    });\n                } catch (e) {\n                    console.error(\"Failed to load user state\", e);\n                }\n            }\n            setIsLoaded(true);\n        };\n        loadUser();\n    }, [\n        session,\n        status\n    ]);\n    const save = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((updated)=>{\n        try {\n            var _session_user;\n            if (session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.id) {\n                const storageKey = \"lyricfill_user_\".concat(session.user.id);\n                localStorage.setItem(storageKey, JSON.stringify(updated));\n            }\n        } catch (e) {\n            console.error(\"Failed to save user state\", e);\n        }\n        setUser(updated);\n    }, [\n        session\n    ]);\n    const completeOnboarding = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((level, name)=>{\n        const updated = {\n            ...user,\n            level,\n            name: name || user.name,\n            onboardingComplete: true\n        };\n        save(updated);\n    }, [\n        user,\n        save\n    ]);\n    const recordSession = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((result)=>{\n        const now = Date.now();\n        const lastPlayed = user.lastPlayedAt;\n        const daysSince = Math.floor((now - lastPlayed) / 86400000);\n        // Update streak\n        let streak = user.streak;\n        if (daysSince === 1) streak += 1;\n        else if (daysSince === 0) streak = Math.max(streak, 1);\n        else streak = 1;\n        // Update weekly activity\n        const weeklyActivity = [\n            ...user.weeklyActivity\n        ];\n        const todayIdx = new Date().getDay();\n        weeklyActivity[todayIdx] = (weeklyActivity[todayIdx] || 0) + result.score;\n        // Update XP\n        const newXp = user.xp + result.score;\n        const newLevel = (0,_data_constants__WEBPACK_IMPORTED_MODULE_2__.getLevelByXp)(newXp);\n        // Update learned words (deduplicate)\n        const existingWords = new Set(user.learnedWords.map((w)=>w.word));\n        const newWords = result.learnedWords.filter((w)=>!existingWords.has(w.word));\n        // Update songs completed\n        const songsCompleted = Array.from(new Set([\n            ...user.songsCompleted,\n            result.songId\n        ]));\n        // Check achievements\n        const unlockedKeys = new Set(user.achievements.map((a)=>a.key));\n        const newAchievements = [\n            ...user.achievements\n        ];\n        const checkAchievement = (key, condition)=>{\n            if (condition && !unlockedKeys.has(key)) {\n                const ach = _data_constants__WEBPACK_IMPORTED_MODULE_2__.ALL_ACHIEVEMENTS.find((a)=>a.key === key);\n                if (ach) {\n                    newAchievements.push({\n                        ...ach,\n                        unlockedAt: now\n                    });\n                }\n            }\n        };\n        checkAchievement(\"first_song\", songsCompleted.length >= 1);\n        checkAchievement(\"perfect_score\", result.accuracy === 100);\n        checkAchievement(\"songs_5\", songsCompleted.length >= 5);\n        checkAchievement(\"words_50\", user.learnedWords.length + newWords.length >= 50);\n        checkAchievement(\"streak_7\", streak >= 7);\n        checkAchievement(\"advanced_song\", result.songId === \"blinding-lights\" || result.songId === \"hotel-california\");\n        const updated = {\n            ...user,\n            xp: newXp,\n            level: newLevel.key,\n            streak,\n            lastPlayedAt: now,\n            songsCompleted,\n            learnedWords: [\n                ...user.learnedWords,\n                ...newWords\n            ],\n            achievements: newAchievements,\n            weeklyActivity,\n            history: [\n                result,\n                ...user.history\n            ].slice(0, 50)\n        };\n        save(updated);\n        return updated;\n    }, [\n        user,\n        save\n    ]);\n    const toggleFavorite = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((songId)=>{\n        const favorites = user.favorites.includes(songId) ? user.favorites.filter((id)=>id !== songId) : [\n            ...user.favorites,\n            songId\n        ];\n        save({\n            ...user,\n            favorites\n        });\n    }, [\n        user,\n        save\n    ]);\n    const addLearnedWords = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((words)=>{\n        const existingWords = new Set(user.learnedWords.map((w)=>w.word));\n        const newWords = words.filter((w)=>!existingWords.has(w.word));\n        if (newWords.length > 0) {\n            save({\n                ...user,\n                learnedWords: [\n                    ...user.learnedWords,\n                    ...newWords\n                ]\n            });\n        }\n    }, [\n        user,\n        save\n    ]);\n    const resetUser = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        localStorage.removeItem(STORAGE_KEY);\n        setUser(DEFAULT_USER);\n    }, []);\n    return {\n        user,\n        isLoaded,\n        completeOnboarding,\n        recordSession,\n        toggleFavorite,\n        addLearnedWords,\n        resetUser\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL3VzZVVzZXJTdGF0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztrRUFFeUQ7QUFDWjtBQUVxQjtBQUVsRSxNQUFNTSxjQUFjO0FBRXBCLE1BQU1DLGVBQTBCO0lBQzVCQyxNQUFNO0lBQ05DLE9BQU87SUFDUEMsSUFBSTtJQUNKQyxRQUFRO0lBQ1JDLGNBQWM7SUFDZEMsZ0JBQWdCLEVBQUU7SUFDbEJDLGNBQWMsRUFBRTtJQUNoQkMsY0FBYyxFQUFFO0lBQ2hCQyxnQkFBZ0I7UUFBQztRQUFHO1FBQUc7UUFBRztRQUFHO1FBQUc7UUFBRztLQUFFO0lBQ3JDQyxXQUFXLEVBQUU7SUFDYkMsU0FBUyxFQUFFO0lBQ1hDLG9CQUFvQjtBQUN4QjtBQUVPLFNBQVNDO0lBQ1osTUFBTSxFQUFFQyxNQUFNQyxPQUFPLEVBQUVDLE1BQU0sRUFBRSxHQUFHcEIsMkRBQVVBO0lBQzVDLE1BQU0sQ0FBQ3FCLE1BQU1DLFFBQVEsR0FBR3pCLCtDQUFRQSxDQUFZTztJQUM1QyxNQUFNLENBQUNtQixVQUFVQyxZQUFZLEdBQUczQiwrQ0FBUUEsQ0FBQztJQUV6Q0MsZ0RBQVNBLENBQUM7UUFDTixNQUFNMkIsV0FBVztnQkFVVE47WUFUSixJQUFJQyxXQUFXLFdBQVc7WUFFMUIsSUFBSUEsV0FBVyxtQkFBbUI7Z0JBQzlCRSxRQUFRbEI7Z0JBQ1JvQixZQUFZO2dCQUNaO1lBQ0o7WUFFQSxtQ0FBbUM7WUFDbkMsSUFBSUwsb0JBQUFBLCtCQUFBQSxnQkFBQUEsUUFBU0UsSUFBSSxjQUFiRixvQ0FBQUEsY0FBZU8sRUFBRSxFQUFFO2dCQUNuQixNQUFNQyxhQUFhLGtCQUFrQyxPQUFoQlIsUUFBUUUsSUFBSSxDQUFDSyxFQUFFO2dCQUNwRCxJQUFJO29CQUNBLE1BQU1FLE1BQU0sTUFBTUMsTUFBTTtvQkFDeEIsSUFBSUMsT0FBTztvQkFDWCxJQUFJQyxXQUFXO29CQUNmLElBQUlDLFNBQVNiLFFBQVFFLElBQUksQ0FBQ2hCLElBQUks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SUFBSTtnQkFBRVYsY0FBYzt1QkFBSVUsS0FBS1YsWUFBWTt1QkFBSzREO2lCQUFTO1lBQUM7UUFDdEU7SUFDSixHQUFHO1FBQUNsRDtRQUFNZ0M7S0FBSztJQUVmLE1BQU15QyxZQUFZL0Ysa0RBQVdBLENBQUM7UUFDMUJ3QyxhQUFhd0QsVUFBVSxDQUFDNUY7UUFDeEJtQixRQUFRbEI7SUFDWixHQUFHLEVBQUU7SUFFTCxPQUFPO1FBQ0hpQjtRQUNBRTtRQUNBa0M7UUFDQUM7UUFDQWdDO1FBQ0FFO1FBQ0FFO0lBQ0o7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ob29rcy91c2VVc2VyU3RhdGUudHM/M2I0YiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XHJcblxyXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgdXNlU2Vzc2lvbiB9IGZyb20gJ25leHQtYXV0aC9yZWFjdCc7XHJcbmltcG9ydCB7IFVzZXJTdGF0ZSwgU2Vzc2lvblJlc3VsdCwgTGVhcm5lZFdvcmQsIEFjaGlldmVtZW50IH0gZnJvbSAnQC90eXBlcyc7XHJcbmltcG9ydCB7IEFMTF9BQ0hJRVZFTUVOVFMsIGdldExldmVsQnlYcCB9IGZyb20gJ0AvZGF0YS9jb25zdGFudHMnO1xyXG5cclxuY29uc3QgU1RPUkFHRV9LRVkgPSAnbHlyaWNmaWxsX3VzZXInO1xyXG5cclxuY29uc3QgREVGQVVMVF9VU0VSOiBVc2VyU3RhdGUgPSB7XHJcbiAgICBuYW1lOiAnTGVhcm5lcicsXHJcbiAgICBsZXZlbDogJ2JlZ2lubmVyJyxcclxuICAgIHhwOiAwLFxyXG4gICAgc3RyZWFrOiAwLFxyXG4gICAgbGFzdFBsYXllZEF0OiAwLFxyXG4gICAgc29uZ3NDb21wbGV0ZWQ6IFtdLFxyXG4gICAgbGVhcm5lZFdvcmRzOiBbXSxcclxuICAgIGFjaGlldmVtZW50czogW10sXHJcbiAgICB3ZWVrbHlBY3Rpdml0eTogWzAsIDAsIDAsIDAsIDAsIDAsIDBdLFxyXG4gICAgZmF2b3JpdGVzOiBbXSxcclxuICAgIGhpc3Rvcnk6IFtdLFxyXG4gICAgb25ib2FyZGluZ0NvbXBsZXRlOiBmYWxzZSxcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VVc2VyU3RhdGUoKSB7XHJcbiAgICBjb25zdCB7IGRhdGE6IHNlc3Npb24sIHN0YXR1cyB9ID0gdXNlU2Vzc2lvbigpO1xyXG4gICAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGU8VXNlclN0YXRlPihERUZBVUxUX1VTRVIpO1xyXG4gICAgY29uc3QgW2lzTG9hZGVkLCBzZXRJc0xvYWRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBjb25zdCBsb2FkVXNlciA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ2xvYWRpbmcnKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBpZiAoc3RhdHVzID09PSAndW5hdXRoZW50aWNhdGVkJykge1xyXG4gICAgICAgICAgICAgICAgc2V0VXNlcihERUZBVUxUX1VTRVIpO1xyXG4gICAgICAgICAgICAgICAgc2V0SXNMb2FkZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFByaW9yaXR5IDE6IERCIGRhdGEgaWYgbG9nZ2VkIGluXHJcbiAgICAgICAgICAgIGlmIChzZXNzaW9uPy51c2VyPy5pZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmFnZUtleSA9IGBseXJpY2ZpbGxfdXNlcl8ke3Nlc3Npb24udXNlci5pZH1gO1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgnL2FwaS91c2VyL21lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRiWHAgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkYlN0cmVhayA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRiTmFtZSA9IHNlc3Npb24udXNlci5uYW1lIHx8ICdQbGF5ZXInO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRiVXNlciA9IGF3YWl0IHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiWHAgPSBkYlVzZXIucHJvZmlsZS54cDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGJTdHJlYWsgPSBkYlVzZXIucHJvZmlsZS5zdHJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiTmFtZSA9IGRiVXNlci5uYW1lIHx8IHNlc3Npb24udXNlci5uYW1lIHx8ICdQbGF5ZXInO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJpb3JpdHkgMjogTG9jYWwgc3RvcmFnZSBzY29wZWQgdG8gVXNlciBJRFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsb2NhbERhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdG9yZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2Uoc3RvcmVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdFBsYXllZCA9IHBhcnNlZC5sYXN0UGxheWVkQXQgfHwgMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF5c1NpbmNlID0gTWF0aC5mbG9vcigobm93IC0gbGFzdFBsYXllZCkgLyA4NjQwMDAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXlzU2luY2UgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQuc3RyZWFrID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbERhdGEgPSBwYXJzZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZXRVc2VyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uREVGQVVMVF9VU0VSLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5sb2NhbERhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGRiTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeHA6IGRiWHAsIC8vIERCIGlzIHRoZSBzb3VyY2Ugb2YgdHJ1dGggZm9yIFhQL1N0cmVha1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlYWs6IGRiU3RyZWFrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmJvYXJkaW5nQ29tcGxldGU6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCB1c2VyIHN0YXRlJywgZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0SXNMb2FkZWQodHJ1ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBsb2FkVXNlcigpO1xyXG4gICAgfSwgW3Nlc3Npb24sIHN0YXR1c10pO1xyXG5cclxuICAgIGNvbnN0IHNhdmUgPSB1c2VDYWxsYmFjaygodXBkYXRlZDogVXNlclN0YXRlKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHNlc3Npb24/LnVzZXI/LmlkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yYWdlS2V5ID0gYGx5cmljZmlsbF91c2VyXyR7c2Vzc2lvbi51c2VyLmlkfWA7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShzdG9yYWdlS2V5LCBKU09OLnN0cmluZ2lmeSh1cGRhdGVkKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzYXZlIHVzZXIgc3RhdGUnLCBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0VXNlcih1cGRhdGVkKTtcclxuICAgIH0sIFtzZXNzaW9uXSk7XHJcblxyXG4gICAgY29uc3QgY29tcGxldGVPbmJvYXJkaW5nID0gdXNlQ2FsbGJhY2soKGxldmVsOiBVc2VyU3RhdGVbJ2xldmVsJ10sIG5hbWU/OiBzdHJpbmcpID0+IHtcclxuICAgICAgICBjb25zdCB1cGRhdGVkID0ge1xyXG4gICAgICAgICAgICAuLi51c2VyLFxyXG4gICAgICAgICAgICBsZXZlbCxcclxuICAgICAgICAgICAgbmFtZTogbmFtZSB8fCB1c2VyLm5hbWUsXHJcbiAgICAgICAgICAgIG9uYm9hcmRpbmdDb21wbGV0ZTogdHJ1ZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNhdmUodXBkYXRlZCk7XHJcbiAgICB9LCBbdXNlciwgc2F2ZV0pO1xyXG5cclxuICAgIGNvbnN0IHJlY29yZFNlc3Npb24gPSB1c2VDYWxsYmFjaygocmVzdWx0OiBTZXNzaW9uUmVzdWx0KSA9PiB7XHJcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBjb25zdCBsYXN0UGxheWVkID0gdXNlci5sYXN0UGxheWVkQXQ7XHJcbiAgICAgICAgY29uc3QgZGF5c1NpbmNlID0gTWF0aC5mbG9vcigobm93IC0gbGFzdFBsYXllZCkgLyA4NjQwMDAwMCk7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBzdHJlYWtcclxuICAgICAgICBsZXQgc3RyZWFrID0gdXNlci5zdHJlYWs7XHJcbiAgICAgICAgaWYgKGRheXNTaW5jZSA9PT0gMSkgc3RyZWFrICs9IDE7XHJcbiAgICAgICAgZWxzZSBpZiAoZGF5c1NpbmNlID09PSAwKSBzdHJlYWsgPSBNYXRoLm1heChzdHJlYWssIDEpO1xyXG4gICAgICAgIGVsc2Ugc3RyZWFrID0gMTtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIHdlZWtseSBhY3Rpdml0eVxyXG4gICAgICAgIGNvbnN0IHdlZWtseUFjdGl2aXR5ID0gWy4uLnVzZXIud2Vla2x5QWN0aXZpdHldO1xyXG4gICAgICAgIGNvbnN0IHRvZGF5SWR4ID0gbmV3IERhdGUoKS5nZXREYXkoKTtcclxuICAgICAgICB3ZWVrbHlBY3Rpdml0eVt0b2RheUlkeF0gPSAod2Vla2x5QWN0aXZpdHlbdG9kYXlJZHhdIHx8IDApICsgcmVzdWx0LnNjb3JlO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGUgWFBcclxuICAgICAgICBjb25zdCBuZXdYcCA9IHVzZXIueHAgKyByZXN1bHQuc2NvcmU7XHJcbiAgICAgICAgY29uc3QgbmV3TGV2ZWwgPSBnZXRMZXZlbEJ5WHAobmV3WHApO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGUgbGVhcm5lZCB3b3JkcyAoZGVkdXBsaWNhdGUpXHJcbiAgICAgICAgY29uc3QgZXhpc3RpbmdXb3JkcyA9IG5ldyBTZXQodXNlci5sZWFybmVkV29yZHMubWFwKHcgPT4gdy53b3JkKSk7XHJcbiAgICAgICAgY29uc3QgbmV3V29yZHMgPSByZXN1bHQubGVhcm5lZFdvcmRzLmZpbHRlcih3ID0+ICFleGlzdGluZ1dvcmRzLmhhcyh3LndvcmQpKTtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIHNvbmdzIGNvbXBsZXRlZFxyXG4gICAgICAgIGNvbnN0IHNvbmdzQ29tcGxldGVkID0gQXJyYXkuZnJvbShuZXcgU2V0KFsuLi51c2VyLnNvbmdzQ29tcGxldGVkLCByZXN1bHQuc29uZ0lkXSkpO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBhY2hpZXZlbWVudHNcclxuICAgICAgICBjb25zdCB1bmxvY2tlZEtleXMgPSBuZXcgU2V0KHVzZXIuYWNoaWV2ZW1lbnRzLm1hcChhID0+IGEua2V5KSk7XHJcbiAgICAgICAgY29uc3QgbmV3QWNoaWV2ZW1lbnRzID0gWy4uLnVzZXIuYWNoaWV2ZW1lbnRzXTtcclxuXHJcbiAgICAgICAgY29uc3QgY2hlY2tBY2hpZXZlbWVudCA9IChrZXk6IHN0cmluZywgY29uZGl0aW9uOiBib29sZWFuKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjb25kaXRpb24gJiYgIXVubG9ja2VkS2V5cy5oYXMoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYWNoID0gQUxMX0FDSElFVkVNRU5UUy5maW5kKGEgPT4gYS5rZXkgPT09IGtleSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYWNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3QWNoaWV2ZW1lbnRzLnB1c2goeyAuLi5hY2gsIHVubG9ja2VkQXQ6IG5vdyB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNoZWNrQWNoaWV2ZW1lbnQoJ2ZpcnN0X3NvbmcnLCBzb25nc0NvbXBsZXRlZC5sZW5ndGggPj0gMSk7XHJcbiAgICAgICAgY2hlY2tBY2hpZXZlbWVudCgncGVyZmVjdF9zY29yZScsIHJlc3VsdC5hY2N1cmFjeSA9PT0gMTAwKTtcclxuICAgICAgICBjaGVja0FjaGlldmVtZW50KCdzb25nc181Jywgc29uZ3NDb21wbGV0ZWQubGVuZ3RoID49IDUpO1xyXG4gICAgICAgIGNoZWNrQWNoaWV2ZW1lbnQoJ3dvcmRzXzUwJywgdXNlci5sZWFybmVkV29yZHMubGVuZ3RoICsgbmV3V29yZHMubGVuZ3RoID49IDUwKTtcclxuICAgICAgICBjaGVja0FjaGlldmVtZW50KCdzdHJlYWtfNycsIHN0cmVhayA+PSA3KTtcclxuICAgICAgICBjaGVja0FjaGlldmVtZW50KCdhZHZhbmNlZF9zb25nJywgcmVzdWx0LnNvbmdJZCA9PT0gJ2JsaW5kaW5nLWxpZ2h0cycgfHwgcmVzdWx0LnNvbmdJZCA9PT0gJ2hvdGVsLWNhbGlmb3JuaWEnKTtcclxuXHJcbiAgICAgICAgY29uc3QgdXBkYXRlZDogVXNlclN0YXRlID0ge1xyXG4gICAgICAgICAgICAuLi51c2VyLFxyXG4gICAgICAgICAgICB4cDogbmV3WHAsXHJcbiAgICAgICAgICAgIGxldmVsOiBuZXdMZXZlbC5rZXkgYXMgVXNlclN0YXRlWydsZXZlbCddLFxyXG4gICAgICAgICAgICBzdHJlYWssXHJcbiAgICAgICAgICAgIGxhc3RQbGF5ZWRBdDogbm93LFxyXG4gICAgICAgICAgICBzb25nc0NvbXBsZXRlZCxcclxuICAgICAgICAgICAgbGVhcm5lZFdvcmRzOiBbLi4udXNlci5sZWFybmVkV29yZHMsIC4uLm5ld1dvcmRzXSxcclxuICAgICAgICAgICAgYWNoaWV2ZW1lbnRzOiBuZXdBY2hpZXZlbWVudHMsXHJcbiAgICAgICAgICAgIHdlZWtseUFjdGl2aXR5LFxyXG4gICAgICAgICAgICBoaXN0b3J5OiBbcmVzdWx0LCAuLi51c2VyLmhpc3RvcnldLnNsaWNlKDAsIDUwKSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzYXZlKHVwZGF0ZWQpO1xyXG4gICAgICAgIHJldHVybiB1cGRhdGVkO1xyXG4gICAgfSwgW3VzZXIsIHNhdmVdKTtcclxuXHJcbiAgICBjb25zdCB0b2dnbGVGYXZvcml0ZSA9IHVzZUNhbGxiYWNrKChzb25nSWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZhdm9yaXRlcyA9IHVzZXIuZmF2b3JpdGVzLmluY2x1ZGVzKHNvbmdJZClcclxuICAgICAgICAgICAgPyB1c2VyLmZhdm9yaXRlcy5maWx0ZXIoaWQgPT4gaWQgIT09IHNvbmdJZClcclxuICAgICAgICAgICAgOiBbLi4udXNlci5mYXZvcml0ZXMsIHNvbmdJZF07XHJcbiAgICAgICAgc2F2ZSh7IC4uLnVzZXIsIGZhdm9yaXRlcyB9KTtcclxuICAgIH0sIFt1c2VyLCBzYXZlXSk7XHJcblxyXG4gICAgY29uc3QgYWRkTGVhcm5lZFdvcmRzID0gdXNlQ2FsbGJhY2soKHdvcmRzOiBMZWFybmVkV29yZFtdKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZXhpc3RpbmdXb3JkcyA9IG5ldyBTZXQodXNlci5sZWFybmVkV29yZHMubWFwKHcgPT4gdy53b3JkKSk7XHJcbiAgICAgICAgY29uc3QgbmV3V29yZHMgPSB3b3Jkcy5maWx0ZXIodyA9PiAhZXhpc3RpbmdXb3Jkcy5oYXMody53b3JkKSk7XHJcbiAgICAgICAgaWYgKG5ld1dvcmRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgc2F2ZSh7IC4uLnVzZXIsIGxlYXJuZWRXb3JkczogWy4uLnVzZXIubGVhcm5lZFdvcmRzLCAuLi5uZXdXb3Jkc10gfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW3VzZXIsIHNhdmVdKTtcclxuXHJcbiAgICBjb25zdCByZXNldFVzZXIgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU1RPUkFHRV9LRVkpO1xyXG4gICAgICAgIHNldFVzZXIoREVGQVVMVF9VU0VSKTtcclxuICAgIH0sIFtdKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHVzZXIsXHJcbiAgICAgICAgaXNMb2FkZWQsXHJcbiAgICAgICAgY29tcGxldGVPbmJvYXJkaW5nLFxyXG4gICAgICAgIHJlY29yZFNlc3Npb24sXHJcbiAgICAgICAgdG9nZ2xlRmF2b3JpdGUsXHJcbiAgICAgICAgYWRkTGVhcm5lZFdvcmRzLFxyXG4gICAgICAgIHJlc2V0VXNlcixcclxuICAgIH07XHJcbn1cclxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VTZXNzaW9uIiwiQUxMX0FDSElFVkVNRU5UUyIsImdldExldmVsQnlYcCIsIlNUT1JBR0VfS0VZIiwiREVGQVVMVF9VU0VSIiwibmFtZSIsImxldmVsIiwieHAiLCJzdHJlYWsiLCJsYXN0UGxheWVkQXQiLCJzb25nc0NvbXBsZXRlZCIsImxlYXJuZWRXb3JkcyIsImFjaGlldmVtZW50cyIsIndlZWtseUFjdGl2aXR5IiwiZmF2b3JpdGVzIiwiaGlzdG9yeSIsIm9uYm9hcmRpbmdDb21wbGV0ZSIsInVzZVVzZXJTdGF0ZSIsImRhdGEiLCJzZXNzaW9uIiwic3RhdHVzIiwidXNlciIsInNldFVzZXIiLCJpc0xvYWRlZCIsInNldElzTG9hZGVkIiwibG9hZFVzZXIiLCJpZCIsInN0b3JhZ2VLZXkiLCJyZXMiLCJmZXRjaCIsImRiWHAiLCJkYlN0cmVhayIsImRiTmFtZSIsIm9rIiwiZGJVc2VyIiwianNvbiIsInByb2ZpbGUiLCJsb2NhbERhdGEiLCJzdG9yZWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicGFyc2VkIiwiSlNPTiIsInBhcnNlIiwibm93IiwiRGF0ZSIsImxhc3RQbGF5ZWQiLCJkYXlzU2luY2UiLCJNYXRoIiwiZmxvb3IiLCJlIiwiY29uc29sZSIsImVycm9yIiwic2F2ZSIsInVwZGF0ZWQiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiY29tcGxldGVPbmJvYXJkaW5nIiwicmVjb3JkU2Vzc2lvbiIsInJlc3VsdCIsIm1heCIsInRvZGF5SWR4IiwiZ2V0RGF5Iiwic2NvcmUiLCJuZXdYcCIsIm5ld0xldmVsIiwiZXhpc3RpbmdXb3JkcyIsIlNldCIsIm1hcCIsInciLCJ3b3JkIiwibmV3V29yZHMiLCJmaWx0ZXIiLCJoYXMiLCJBcnJheSIsImZyb20iLCJzb25nSWQiLCJ1bmxvY2tlZEtleXMiLCJhIiwia2V5IiwibmV3QWNoaWV2ZW1lbnRzIiwiY2hlY2tBY2hpZXZlbWVudCIsImNvbmRpdGlvbiIsImFjaCIsImZpbmQiLCJwdXNoIiwidW5sb2NrZWRBdCIsImxlbmd0aCIsImFjY3VyYWN5Iiwic2xpY2UiLCJ0b2dnbGVGYXZvcml0ZSIsImluY2x1ZGVzIiwiYWRkTGVhcm5lZFdvcmRzIiwid29yZHMiLCJyZXNldFVzZXIiLCJyZW1vdmVJdGVtIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/useUserState.ts\n"));

/***/ })

});